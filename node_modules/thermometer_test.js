
var inc = 0;
function getRawTempData() {
    var rtmp = 22000 + Math.floor(Math.sin(inc++ * 0.174532925) * 5000);
	if (inc >= 360) inc = 0;
	
    return "88 01 4b 46 7f ff 08 10 76 : crc=76 NO\n"
          +"88 01 4b 46 7f ff 08 10 76 t="+rtmp+"\n";
}

module.exports.read = function(){
    var data = getRawTempData();
    
    var matches = data.match(/(([a-f\d]{2} ){9}): crc=([a-f\d]{2}) (YES|NO)\n([a-f\d]{2} ){9}t=(-?\d+)/);
    if (!matches)
        return [];
        
    return [{
        id: matches[1],
        crc: matches[4] == 'YES',
        t: parseInt(matches[6])/1000
    }];
}